<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>URL Butler Settings</title>
        <link rel="stylesheet" href="popup.css" />
    </head>
    <body>
        <div class="container">
            <header>
                <h1>URL Butler</h1>
                <div class="toggle-container">
                    <label class="switch">
                        <input type="checkbox" id="extensionToggle" />
                        <span class="slider"></span>
                    </label>
                    <span id="statusText">Enabled</span>
                </div>
            </header>

            <div class="section">
                <h2>URL Parameter Rules</h2>
                <div id="rulesList"></div>
                <button id="addRuleBtn" class="btn btn-primary">
                    + Add New Rule
                </button>
            </div>

            <div id="ruleModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2 id="modalTitle">Add Rule</h2>
                    <form id="ruleForm">
                        <div class="form-group">
                            <label for="domain">Domain:</label>
                            <input
                                type="text"
                                id="domain"
                                placeholder="example.com"
                                required
                            />
                        </div>
                        <div class="form-group">
                            <label for="action">Action:</label>
                            <select id="action" required>
                                <option value="remove">Remove Parameter</option>
                                <option value="add">
                                    Add/Update Parameter
                                </option>
                                <option value="redirect">Path Redirect</option>
                            </select>
                        </div>
                        <div class="form-group" id="parameterGroup">
                            <label for="parameter">Parameter Name:</label>
                            <input
                                type="text"
                                id="parameter"
                                placeholder="debug_mode"
                            />
                        </div>
                        <div class="form-group" id="valueGroup">
                            <label for="value">Parameter Value:</label>
                            <input
                                type="text"
                                id="value"
                                placeholder="true (optional)"
                            />
                            <small>Leave empty to match any value</small>
                        </div>
                        <div
                            class="form-group"
                            id="fromPathGroup"
                            style="display: none"
                        >
                            <label for="fromPath">From Path:</label>
                            <input
                                type="text"
                                id="fromPath"
                                placeholder="/u/0"
                            />
                            <small>Path to redirect from</small>
                        </div>
                        <div
                            class="form-group"
                            id="toPathGroup"
                            style="display: none"
                        >
                            <label for="toPath">To Path:</label>
                            <input type="text" id="toPath" placeholder="/u/2" />
                            <small>Path to redirect to</small>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                Save Rule
                            </button>
                            <button
                                type="button"
                                class="btn btn-secondary"
                                id="cancelBtn"
                            >
                                Cancel
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <script src="popup.js"></script>
    </body>
</html>
